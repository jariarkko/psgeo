<!DOCTYPE html>
<html>
<head>
	<title>Activity map</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
        <link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div id="map"></div>

	<script src="./lib/psgeo.js"></script>
	<script src="./lib/psgeotables.js"></script>
	<script src="./lib/psgeosettings.js"></script>
	<script src="./lib/psgeodb.js"></script>
	<script src="./lib/psgeodbbackend.js"></script>
	<script src="./lib/psgeodbtext.js"></script>
	<script src="./lib/psgeolang.js"></script>
	<script src="./lib/psgeoschema.js"></script>
	<script src="./lib/psgeolib.js"></script>
	<script src="./lib/psgeostat.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<!-- Dynamically load Google Maps java script API in finnish or english based on ?lang=XX -->
	<script>
                const apiKey = "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX";

                let uiLanguage = "fi"; // default
                if ( window.location.search == "?lang=en" ) { uiLanguage = "en" }
                if ( window.location.search == "?lang=sv" ) { uiLanguage = "sv" }

		const fileref=document.createElement('script');
		fileref.setAttribute("type","text/javascript");
		fileref.setAttribute("async","true");
		fileref.setAttribute("defer","true");
                fileref.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+apiKey+"&language="+uiLanguage+"&callback=psgeoInit" ); 

		document.getElementsByTagName("head")[0].appendChild(fileref);
	</script>
    </body>
</html>

