<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width", initial-scale=1>
<meta charset="utf-8">
<link rel="stylesheet" href="dialog.css">
</head>
<body>

<div id="map"></div>

<script>
function createDialog(dialogStyle,dialogContent) {
    console.log("Entered createDialog");
    // choose dialog style sheet
    var stylesheet;
    switch (dialogStyle) {
        case "center": stylesheet = "modal-content-center"; break;;
        case "bottom": stylesheet = "modal-content-bottom"; break;;
        default:       stylesheet = "modal-content-center";; // Error
    }

    console.log("Style is "+dialogStyle+" and stylesheet is "+stylesheet);

    // dialog                [div] 100%, grayed out (0.1)
    //   modalContent        [div] 80% max 10cm OR 100% slide in from bottom
    //     dialogHeader      [div] padding 5
    //       closeBox        [span] float right
    //         closeBtn      [textnode] &times;
    //     dialogPayload     [div] padding 10
    //       innerHTML       content created by psgeo
    var closeBtn = document.createTextNode("\u00d7");
    var closeBox = document.createElement('span');
        closeBox.setAttribute("class","close");
        closeBox.appendChild(closeBtn);
        closeBox.onclick = function() { dialog.style.display = "none"; }
    var dialogHeader = document.createElement("div");
        dialogHeader.setAttribute("class", "dialogHeader");
        dialogHeader.setAttribute("id", "dialogHeader");
        dialogHeader.appendChild(closeBox);
    var dialogPayload = document.createElement("div");
        dialogPayload.setAttribute("class", "dialogPayload");
        dialogPayload.setAttribute("id", "dialogPayload");
        dialogPayload.innerHTML=dialogContent;
    var modalContent = document.createElement('div');
        modalContent.setAttribute("class", stylesheet); // from arguments
        modalContent.appendChild(dialogHeader);
        modalContent.appendChild(dialogPayload);
    var dialog = document.createElement('div');
        dialog.setAttribute("class", "modal");
        dialog.setAttribute("id", "dialog");
        dialog.appendChild(modalContent);
    window.onclick = function(event) {    // easy close
        if (event.target == dialog) { dialog.style.display = "none"; }
        }

    console.log("Dialog created");

    return(dialog);
}

    //  AND SIMPLY FOR TESTING:
        console.log("Starting");
        var filterContent1="Testi! Testi! Testi! Testi! Testi! Testi! Testi! Testi! Testi!";
        var filterContent2="TESTI! TESTI! TESTI! TESTI!<br>TESTI! TESTI! TESTI! TESTI!";
        var filterDialogCenter = new createDialog("center",filterContent1);
        var filterDialogBottom = new createDialog("bottom",filterContent2);

        document.getElementById("map").appendChild(filterDialogCenter);
        document.getElementById("map").appendChild(filterDialogBottom);

        // An open button
        var opentext1 = document.createTextNode("AVAA DIALOGI KESKELLE");
        var opentext2 = document.createTextNode("AVAA DIALOGI ALAS");
        var openBtn1 = document.createElement("button");
        var openBtn2 = document.createElement("button");
        openBtn1.appendChild(opentext1);
        openBtn2.appendChild(opentext2);
        document.body.appendChild(openBtn1);
        document.body.appendChild(openBtn2);
        openBtn1.onclick = function() { filterDialogCenter.style.display = "block"; }
        openBtn2.onclick = function() { filterDialogBottom.style.display = "block"; }

</script>
</body>
</html>
